\documentclass[a7paper,pagesize,DIV=14,10pt]{scrbook}

\usepackage[french]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{tabularx}
\usepackage{color}
\usepackage{tikz}\usetikzlibrary{shapes.geometric}
\usepackage{url}
\usepackage{import,palatino}
\usepackage{pdfpages,wrapfig,setspace}
\usepackage[left=4mm,right=6mm,top=4mm,bottom=5mm]{geometry}

\setlength{\parskip}{\smallskipamount}
\setlength{\parindent}{0pt}

\begin{document}

%\begin{picture}(0,0)(-150,115)
%  
%\end{picture}\vspace{-2.5\baselineskip}
\begin{center}
  \textbf{{\huge Les Algorithmes} \Large qu'est ce que c'est? }
  
  \includegraphics[width=.5\linewidth]{img/Hamiltonian_path.pdf}

\medskip
\centerline{\includegraphics[width=.9\linewidth]{img/logo_SMN.pdf}}

\smallskip
\begin{spacing}{.8}
  \centerline{\footnotesize Téléchargez ce livret, les pions à découper,}
  \centerline{\footnotesize ainsi que des vidéos explicatives sur}

  \centerline{\small\color{blue}\url{http://www.loria.fr/~quinson/SMN}}
\end{spacing}

\includegraphics[width=.25\linewidth]{img/QRcode.pdf} 
\end{center}

\vspace{-.3\baselineskip}
\begin{minipage}{.8\linewidth}
  \begin{spacing}{.5}
    \hbox to \linewidth{\tiny~\hfill Vous pouvez copier, modifier et diffuser librement ce document,}
    \hbox to \linewidth{\tiny~\hfill à la seule condition de laisser ces mêmes droits à vos lecteurs.}
  \end{spacing}
\end{minipage}%
~
\begin{minipage}[b]{.16\linewidth}
  \includegraphics[width=\linewidth]{img/logo_by-sa.pdf}
\end{minipage}%


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Le jeu de Nim}

\vspace{-.5\baselineskip}
Ce premier jeu se joue à deux joueurs.\\
On dispose de 16 objets quelconques.\\
Chacun à son tour prend 1, 2 ou 3 objets.\\
\textbf{But du jeu:} prendre le dernier.

\vspace{-.5\baselineskip}
\subsubsection*{Un algorithme pour gagner}

\vspace{-.5\baselineskip} %
Le joueur n$^o$2 a une \textbf{stratégie gagnante} infaillible: il
s'assure de laisser 12, 8 puis 4 objets à son adversaire.

\includegraphics[width=\linewidth]{img/nim16.pdf}

\subsection*{C'est de l'informatique}
\vspace{-.5\baselineskip} %
Les algorithmes sont très importants pour assurer que l'ordinateur
fasse \textbf{à coup sûr} ce que l'on attend de lui.

\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Le crêpier psycho-rigide}

\vspace{-.5\baselineskip}
Les planchettes sont des crêpes, qu'il faut ranger de la plus grande à
la plus petite.

\smallskip
\includegraphics[width=\linewidth]{img/crepes_but-du-jeu.pdf}

À chaque coup, on retourne le haut de la pile (une ou plusieurs crêpes,
d'un bloc).

\smallskip
\includegraphics[width=\linewidth]{img/crepes_un-coup.pdf}

\medskip%
On n'a pas le droit de poser des crêpes à coté, ni de soulever celles
du haut pour changer celles au milieu de la pile.

\bigskip%
\textbf{Variante} (plus dure): il faut en plus que la face colorée des
crêpes soit visible.

\newpage
\subsection*{Trouver l'algorithme du crêpier}
\vspace{-.5\baselineskip}

Il faut se fixer des objectifs intermédiaires. Par exemple, placer la
plus grande crêpe tout en bas, puis ne plus y toucher.

\smallskip
Est-ce qu'il y a une situation où je sais amener la grande crêpe tout en bas?

\smallskip
Comment faire pour me ramener dans cette situation où je sais ranger la grande crêpe?

\vspace{-.6\baselineskip}
\subsection*{C'est de l'informatique}
\vspace{-.5\baselineskip}

Un algorithme, ce n'est pas forcément compliqué. Tout le monde peut en découvrir.

\smallskip
Un ordinateur est très obéissant: il lui faut des instructions
\textbf{précises}, \textbf{sans ambiguïté}.

\vspace{-.6\baselineskip}
\subsection*{Aller plus loin}
\vspace{-.5\baselineskip}
D'autres algorithmes existent pour ce problème. On peut les programmer
avec la PLM, l'\textit{exerciseur de l'apprenti programmeur}.%\\
%{\small\color{blue}\url{http://www.loria.fr/~quinson/PLM/}}

\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section*{Le baseball multicolore}
\input{defMaison.tex}

\vspace{-.5\baselineskip} %
Plusieurs bases sont disposées en cercle.  Il y a deux pions par base,
sauf une couleur avec un seul pion et un emplacement vide.  Chaque
pion veut rejoindre sa base.

%\vspace{-.5\baselineskip}
\begin{minipage}{.5\linewidth}\center
  \resizebox{24mm}{!}{
    \maisonCinq{1/C,2/B, 5/E,6/C,   9/D, 13/B,14/A, 17/A,18/D} {}
  }
 \textbf{Situation initiale} 
\end{minipage}~
\begin{minipage}{.5\linewidth}\center
  \resizebox{24mm}{!}{
    \maisonCinq{1/A,2/A, 5/B,6/B, 9/C,10/C, 13/D,14/D, 17/E}{}
  }
  \textbf{Situation finale}
\end{minipage}

À chaque coup, la place vide est occupée par un pion d'une
\textbf{base voisine}, sans traverser le terrain. On n'échange pas
entre deux bases pleines. On a 4 possibilités.

\begin{minipage}{.47\linewidth}\center
  \resizebox{24mm}{!}{
  \maisonCinq{1/C,2/B, 5/E,6/C,   9/D, 13/B,14/A, 17/A,18/D}
             {    \draw[->,thick,draw=black!10!green] (bb 5) .. controls (0pt,0pt).. (bb 10);
                  \draw[->,thick,draw=black!10!green] (bb 6) .. controls (0pt,0pt).. (bb 10);
                  \draw[->,thick,draw=black!10!green] (bb 13) .. controls (0pt,0pt).. (bb 10);
                  \draw[->,thick,draw=black!10!green] (bb 14) .. controls (0pt,0pt).. (bb 10);}}
  \textbf{Coups autorisés}
\end{minipage}~\begin{minipage}{.47\linewidth}\center
  \resizebox{24mm}{!}{
  \maisonCinq{1/C,2/B, 5/E,6/C,   9/D, 13/B,14/A, 17/A,18/D}{
    % Des marqueurs pour faire des fleches en rond
    \node[name=c,shape=regular polygon,regular polygon sides=5,rotate=72*4,minimum size=12mm]{};
    \foreach \cc in {1,...,5} {\draw[shift=(c.corner \cc)] node[name=cc \cc] {};}
    %
    \draw[<->,thick,draw=red,bend left=45] (cc 1) -- (cc 2);
    \draw[<->,thick,draw=red,bend left=45] (cc 2) -- (cc 3);
    \draw[<->,thick,draw=red,bend left=45] (cc 5) -- (cc 1);
    %
    \draw[<->,thick,draw=red,bend left=45] (cc 3) -- (cc 1);
    \draw[<->,thick,draw=red,bend left=45] (cc 2) -- (cc 5);
    \draw[<->,thick,draw=red,bend left=45] (cc 1) -- (cc 4);
    \draw[<->,thick,draw=red,bend left=45] (cc 4) -- (cc 2);
    \draw[<->,thick,draw=red,bend left=45] (cc 5) -- (cc 3);
  }}
  \textbf{Coups interdits}
\end{minipage}

\newpage 
\subsection*{Trouver un premier algorithme}
\vspace{-.5\baselineskip}

On arrive à ramener les pions chez eux, mais il est difficile
d'expliquer comment.

Il faut dire à l'ordinateur lequel des 4 coups possibles faire à chaque
fois.

Une idée simple à expliquer est de tourner toujours dans le même sens
(peu importe lequel) pour n'avoir que deux choix, puis de déplacer le
pion qui a le plus de chemin à faire jusqu'à sa base.

Cet algorithme est simple, efficace et \textbf{faux} : il marche
souvent\footnote{Il fonctionne dans presque toutes les situations
  initiales où aucun pion n'est dans sa base : 100\% à 4 bases, 98,7\%
  à 5 bases et 97,8\% à 6 bases.} mais pas tout le temps.

\begin{minipage}{.36\linewidth}
  \maisonCinq{1/A,2/A, 5/D,6/B, 9/C,10/C, 13/B,14/D, 17/E}{
    % Flèche en rond
    \draw[ultra thick] (0,0) circle (3mm);
    \draw[ultra thick,rotate=5*72] (3mm,0) -- +(-.15,-.08);
    \draw[ultra thick,rotate=5*72] (3mm,0) -- +(.08,-.15);
    \draw[fill=white,draw=white,rotate=5*72] (3mm,2.5pt) circle (2pt);
  }
\end{minipage}~
\begin{minipage}{.63\linewidth}
  Par exemple si on inverse deux pions \pawn{B} et \pawn{D} sur le
  plateau trié, l'algorithme ne s'arrête jamais car les pions ne
  pourront jamais se doubler.
\end{minipage}

\newpage
\newcommand{\ligneMaison}[2]{
  \begin{tikzpicture}
    \foreach \x/\col in {#1} {
      \draw (.55*\x,.5) node[shape=circle,fill=\col,draw=black,inner sep=.1] {~~~};
    }
    \foreach \x/\col in {#2} {
      \draw (.55*\x,.25) node[shape=circle,fill=\col,draw=black,inner sep=.1] {~~~};
    }
    \foreach \x/\col in {1/A, 2/B, 3/C, 4/D, 5/E} {
      \draw (.55*\x,-.25) node[shape=ellipse,fill=\col,draw=black,rotate=90] {~~~};
    }
  \end{tikzpicture}
}
\subsection*{Trouver un algorithme correct}
\vspace{-.5\baselineskip}

Pour éviter de tourner en boucle, on va couper le cercle entre
\pawn{A} et \pawn{E} (on peut se refuser un mouvement valide si on
veut).

\begin{minipage}{.5\linewidth}
  \centerline{\resizebox{!}{2.6\baselineskip}{
    \maisonCinq{1/C,2/B, 5/E,6/C, 9/D, 12/B,13/A, 17/A,18/D}{
      \draw[dashed,draw=red,ultra thick] (0,0) -- (.9,1.1);
    }   
  }}
\end{minipage}~
\begin{minipage}{.5\linewidth}
  \ligneMaison{1/C, 2/E,      4/B, 5/A}
              {1/B, 2/C, 3/D, 4/A, 5/D}

\end{minipage}


Ensuite, on cherche à résoudre peu à peu le problème (comme au
crêpier): d'abord les \pawn{A}, puis \pawn{B}, puis \pawn{C},
puis \pawn{D}, et enfin \pawn{E}.

\vspace{-.8\baselineskip}
\subsection*{Cet algorithme est correct}
\vspace{-.5\baselineskip}

On pourrait démontrer qu'il faut au plus N étapes pour ranger
\pawn{A}, N pour \pawn{B}, etc.

Mais on préfère constater qu'il s'agit du célèbre tri à bulle, que
l'on sait correct.

\vspace{-.8\baselineskip}
\subsection*{C'est de l'informatique}
\vspace{-.5\baselineskip}

Il existe un catalogue d'algorithmes classiques enseignés en école
d'informatique.

Certains chercheurs en ajoutent au catalogue et démontrent qu'ils
sont corrects.


\newpage
\section*{C'est de l'informatique}
\vspace{-.5\baselineskip} %
En fait, les algorithmes sont simples et très utiles. Nous en
appliquons méthodiquement tout le temps, parfois sans le savoir.

Les problèmes peuvent souvent être résolus par différents algorithmes.
Mais pour certains problèmes, on ne connaît pas d'algorithme
utilisable en pratique. On ne sait pas percer le code secret d'une
carte bleue.

\vspace{-.5\baselineskip} %
\subsection*{Aller plus loin}
\vspace{-.5\baselineskip} %
Distinguer ce que les ordinateurs peuvent faire et la science fiction
est indispensable, même pour les utilisateurs [avertis].

Apprendre l'algorithmique ne se fait pas en une heure, mais il existe
beaucoup de ressources libres en ligne pour cela.

L'\textit{exerciseur de l'apprenti programmeur}\\ explore
ces notions de façon ludique.\\
{\small\color{blue}\url{http://www.loria.fr/~quinson/PLM/}}

\end{document}
